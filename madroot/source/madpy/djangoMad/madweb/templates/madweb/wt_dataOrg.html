{% load static %}

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><!-- InstanceBegin template="/Templates/doc_template.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<!-- InstanceBeginEditable name="doctitle" -->
<title>Madrigal data organization</title>
<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="head" --><!-- InstanceEndEditable -->
<link href="/static/madrigal.css" rel="stylesheet" type="text/css" />
<style type="text/css">
	html body {
		background-color: {{bg_color}};
	}
</style>
<!-- InstanceParam name="href_up_top" type="text" value="wt_contents.html" --><!-- InstanceParam name="href_next_top" type="text" value="wt_accessData.html" --><!-- InstanceParam name="href_back_top" type="text" value="wt_whatIsMadrigal.html" --><!-- InstanceParam name="href_back_bottom" type="text" value="wt_whatIsMadrigal.html" --><!-- InstanceParam name="href_up_bottom" type="text" value="wt_contents.html" --><!-- InstanceParam name="href_next_bottom" type="text" value="wt_accessData.html" --><!-- InstanceParam name="href_prev_top" type="text" value="wt_whatIsMadrigal.html" --><!-- InstanceParam name="href_uptitle_top" type="text" value="wt_contents.html" --><!-- InstanceParam name="href_nexttitle_top" type="text" value="wt_accessData.html" --><!-- InstanceParam name="href_prevtitle_bottom" type="text" value="wt_whatIsMadrigal.html" --><!-- InstanceParam name="href_uptitle_bottom" type="text" value="wt_contents.html" --><!-- InstanceParam name="href_nexttitle_bottom" type="text" value="wt_accessData.html" -->
</head>

<body>
<table width="100%" border="1" cellpadding="0" cellspacing="2" class="navigation">
  <tr>
    <td width="5%"><a href="{% url 'docs' 'wt_whatIsMadrigal.html' %}"><img src="/static/previous.png" alt="previous" width="32" height="32" /></a></td>
    <td width="5%"><a href="{% url 'docs' 'wt_contents.html' %}"><img src="/static/up.png" alt="up" width="32" height="32" /></a></td>
    <td width="5%"><a href="{% url 'docs' 'wt_accessData.html' %}"><img src="/static/next.png" alt="next" width="32" height="32" /></a></td>
    <td width="54%"><!-- InstanceBeginEditable name="EditTitleTop" -->How does Madrigal organize data?<!-- InstanceEndEditable --></td>
    <td width="13%"><a href="{% url 'docs' 'madContents.html' %}">Doc home </a></td>
    <td width="18%"><a href="/">Madrigal home</a></td>
  </tr>
</table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" href="{% url 'docs' 'wt_whatIsMadrigal.html' %}"><!-- InstanceBeginEditable name="PreviousTitle" -->What is Madrigal?<!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Up:</b>
<a class="sectref" href="{% url 'docs' 'wt_contents.html' %}"><!-- InstanceBeginEditable name="UpTitle" -->Web Tutorial - TOC <!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Next:</b>
<a class="sectref" href="{% url 'docs' 'wt_accessData.html' %}"><!-- InstanceBeginEditable name="NextTitle" -->Access data through the web <!-- InstanceEndEditable --></A></div>
<hr/>
<!-- InstanceBeginEditable name="EditDoc" -->
<h1 align="center">How does Madrigal organize data?</h1>
<p align="left">Understanding the organization of Madrigal data will help you understand the logic behind the way data is accessed through the web. In this section of the tutorial, a brief overview of the organization of Madrigal data is given, all the way from the highest level (a Madrigal site holding data from one group's instrument(s)) to the lowest level (a single measured value).</p>
<table width="100%"  border="0">
  <tr>
    <td width="33%">A high level view of the Madrigal data model. </td>
    <td width="67%"><img src="/static/data_model.png" alt="Madrigal data organization chart" width="503" height="346" /></td>
  </tr>
</table>
<h4 align="left">Madrigal Site</h4>
<p align="left">The highest level of Madrigal is a Madrigal site. A Madrigal site is one particular web site controlled by one particular group, that holds all their own data. While each Madrigal site stores their own data locally, they also share metadata with all the other sites. This makes it possible for you to search for data at all the Madrigal sites at once no matter which site you visit, and simply follow links to the Madrigal site that has the data you are interested in. </p>
<h4>Instrument </h4>
<p>The next layer of the Madrigal data model is the instrument. All data in Madrigal is associated with one and only one instrument. Any given Madrigal site will hold data from one or more instruments. Since Madrigal  focuses on ground-based instruments, most instruments have a particular location associated with them. However, some Madrigal data is based on measurements from multiple instruments, and so have no particular location. Some examples are &quot;EISCAT Scientific Association IS Radars&quot; which combine data from the multiple EISCAT radars, and &quot;World-wide GPS Receiver Network&quot;, which consists of over a thousand individual GPS receivers distributed around the globe.</p>
<h4>Experiment </h4>
<p>All the data from a given instrument is organized into experiments. An experiment consists of data from a single instrument covering a limited period of time, and, as a rule, is meant to address a particular scientific goal. Madrigal makes the assumption that instruments may be run in different modes, and so the data generated may vary from one experiment to another. By organizing one instrument's data into experiments, the purpose and limitations of each experiment can be made clearer. In Madrigal, you can navigate to a page that contains a particular experiment for a given instrument. This page may contain notes more fully describing the unique features of this experiment, or may contain plots of the data customized to the type of experiment. This level of organization is not presently maintained in the Cedar database.</p>
<p>For simpler instruments that run constantly in the same mode, it is also possible that all data is put in one experiment. For example, the &quot;DST index&quot; instrument consists of a single experiment that is repeatedly updated. </p>
<h4>Experiment Files </h4>
<p>The data from a given experiment is stored in one or more experiment files. There are two reasons there may be more than one file for a given experiment. The first is that the experimental data may be analyzed in more than one way, leading to files with different sets of measured parameters. The second is that older, historical files can be kept on-line for reference purposes. By default, you will only access the most recent, default file through the web, unless you choose &quot;Show History Files&quot; when navigating Madrigal.</p>
<p>The format of these files is the <a href="/static/CEDARMadrigalHdf5Format.pdf">CEDAR Madrigal Hdf5 format</a>, but you can access the data in Hdf5, netCDF4, or ascii formats. Note that once to choose a particular file, you will be directed to the Madrigal site that has that file. Madrigal does not share experiment files between site; only higher level metadata about those files. </p>
<h4>File parameters </h4>
<p>Any given file is made up a series of records holding measured parameters. Note that based on which parameters are in the file, Madrigal will automatically derive a large number of other parameters such as Kp and Magnetic field strength that aren't in the file itself. In the web browser, measured parameters are shown in bold, derived parameters in normal font. </p>
<h4>File data </h4>
<p>The bottom level of the Madrigal data model is of course the data itself. With Madrigal 3.0 and beyond, the actual file format is Hdf5 that follows the rules defined in the <a href="/static/CEDARMadrigalHdf5Format.pdf" target="_blank">CEDAR Madrigal Hdf5 format document</a>. A Madrigal file is made up of a series of records, each with a start and stop time, representing the integration period of measurement (Madrigal tries to enforce the idea that all measurements take a finite time, but sometimes the start time = the stop time).</p>
<p>Each Cedar parameter can also have an associated error value. This error value can have the special values &quot;missing&quot;, &quot;assumed&quot;, or &quot;known bad&quot;. If an error parameter is &quot;assumed&quot;, the implication is that the measured value itself is assumed, and does not represent a measured value. If the error value is &quot;known bad&quot;, the measured data is known to have a problem. </p>
<!-- InstanceEndEditable -->
<table width="100%" border="1" cellpadding="0" cellspacing="2" class="navigation">
  <tr>
    <td width="5%"><a href="{% url 'docs' 'wt_whatIsMadrigal.html' %}"><img src="/static/previous.png" alt="previous" width="32" height="32" /></a></td>
    <td width="5%"><a href="{% url 'docs' 'wt_contents.html' %}"><img src="/static/up.png" alt="up" width="32" height="32" /></a></td>
    <td width="5%"><a href="{% url 'docs' 'wt_accessData.html' %}"><img src="/static/next.png" alt="next" width="32" height="32" /></a></td>
    <td width="54%"><!-- InstanceBeginEditable name="EditTitleBottom" -->How does Madrigal organize data?<!-- InstanceEndEditable --></td>
    <td width="13%"><a href="{% url 'docs' 'madContents.html' %}">Doc home </a></td>
    <td width="18%"><a href="/">Madrigal home</a></td>
  </tr>
</table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" href="{% url 'docs' 'wt_whatIsMadrigal.html' %}"><!-- InstanceBeginEditable name="PreviousTitle2" -->What is Madrigal?<!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Up:</b>
<a class="sectref" href="{% url 'docs' 'wt_contents.html' %}"><!-- InstanceBeginEditable name="UpTitle2" -->Web Tutorial - TOC <!-- InstanceEndEditable --></A>
<b class="navlabel">&nbsp;&nbsp;Next:</b>
<a class="sectref" href="{% url 'docs' 'wt_accessData.html' %}"><!-- InstanceBeginEditable name="NextTitle2" -->Access data through the web <!-- InstanceEndEditable --></A></div>
<hr/>
<p>&nbsp;</p>
</body> 
<!-- InstanceEnd --></html>
